import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D


def scatterplot3d(data, x_axis, y_axis, y_axis2, size_axis):
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    x = [point[x_axis] for point in data]
    y = [(point[y_axis]+point[y_axis2])/2 for point in data]
    size = [point[size_axis] for point in data]
    ax.scatter(x, y, size, s=size)
    ax.set_xlabel(x_axis)
    ax.set_ylabel("AVG_UTILIZATION")
    ax.set_zlabel(size_axis)
    plt.show()
# example usage
data = [{'AVG_LATENCY': 0.002789107159890135, 'AVG_INTRA_LATENCY': 0.0004626872987330172, 'CPU': 0.6713249999999999, 'MEM': 0.56877859477124187, 'COST': 5.832819242458213, 'TIME': 4.999559350678468},
 {'AVG_LATENCY': 0.03030955680534914, 'AVG_INTRA_LATENCY': 0.0004572514524773718, 'CPU': 0.6992750000000001, 'MEM': 0.6292750000000001, 'COST': 5.819307303734517, 'TIME': 4.8279776889153}, 
 {'AVG_LATENCY': 0.027921455483454634, 'AVG_INTRA_LATENCY': 0.000567781991453087, 'CPU': 0.7026875, 'MEM': 0.5926875, 'COST': 5.81868281463329, 'TIME': 4.817442412542819}, 
 {'AVG_LATENCY': 0.029641330759659964, 'AVG_INTRA_LATENCY': 0.00047643149487155653, 'CPU': 0.7317374999999999, 'MEM': 0.63020833333333337, 'COST': 5.819576099050406, 'TIME': 4.708208084900347}, 
 {'AVG_LATENCY': 0.032100371561792434, 'AVG_INTRA_LATENCY': 0.0005952705387057181, 'CPU': 0.7393875000000002, 'MEM': 0.638823652924337, 'COST': 5.819792835493213, 'TIME': 4.658393858994182}, 
 {'AVG_LATENCY': 0.032048170032163595, 'AVG_INTRA_LATENCY': 0.00045463236357008496, 'CPU': 0.7363125, 'MEM': 0.62607843137254857, 'COST': 5.8199668020898265, 'TIME': 4.678542973219851}, 
 {'AVG_LATENCY': 0.031799437522438295, 'AVG_INTRA_LATENCY': 0.0005354135080189705, 'CPU': 0.6951125000000001, 'MEM': 0.5751125000000001,'COST': 5.821003227108824, 'TIME': 4.7943133752185}, 
 {'AVG_LATENCY': 0.029879865774673185, 'AVG_INTRA_LATENCY': 0.0005209587720441207, 'CPU': 0.7271375000000001, 'MEM': 0.6171375000000001,'COST': 5.820976900097136, 'TIME': 4.869408771511831}, 
 {'AVG_LATENCY': 0.023461118459310927, 'AVG_INTRA_LATENCY': 0.0005243876475392712, 'CPU': 0.6630375, 'MEM': 0.5130375,'COST': 5.818772462089713, 'TIME': 5.087519253219754},
 {'AVG_LATENCY': 0.03563606112697317, 'AVG_INTRA_LATENCY': 0.0005848416257850582, 'CPU': 0.7352125000000001, 'MEM': 0.6352125000000001, 'COST': 5.82152118692544, 'TIME': 4.689875303078949}]
scatterplot3d(data, "AVG_LATENCY", "MEM", "CPU", "TIME")